<?php


class CartaoController{
	
	public static function main($nivelDeAcesso){
		
		switch ($nivelDeAcesso){
			case Sessao::NIVEL_SUPER:
				$controller = new CartaoController();
				$controller->telaCartao();
				
				break;
			default:
				UsuarioController::main ( $nivelDeAcesso );
				break;
		}
	}
	
	
	public function telaCartao(){
		
		$view = new CartaoView();
		
		echo '<section id="navegacao">
										<ul class="nav nav-tabs">
											<li role="presentation" class="active"><a href="#tab1" data-toggle="tab">Usu&aacute;rios</a></li>
											<li role="presentation" class=""><a href="#tab2" data-toggle="tab">Cart&otilde;es</a></li>
											<li role="presentation" class=""><a href="#tab3" data-toggle="tab">Isentos</a></li>
										</ul><div class="tab-content">';
		
		echo '<div class="tab-pane active" id="tab1">';
		
		$view->formBuscaUsuarios();
		if (isset ( $_POST ['nome'] )) {
			$usuarioDao = new UsuarioDAO(null, DAO::TIPO_PG_SIGAAA);
			$listaDeUsuarios = $usuarioDao->pesquisaNoSigaa($_POST ['nome']);
			$view->mostraResultadoBuscaDeUsuarios($listaDeUsuarios);
			
			
			
			
		}
		
		
		
		echo '</div>';
		
		echo '<div class="tab-pane" id="tab2">Teste</div>';
		echo '<div class="tab-pane" id="tab3">Isentos</div>';
		
		echo '</section>';
		
	}
	
	
	
	
}



?>